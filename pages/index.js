import SearchBlock from "../components/search-block/SearchBlock";import ProductsList from "../components/products-list/ProductsList";import {useSelector} from 'react-redux'import {useEffect, useState} from "react";import {useRouter} from "next/router";import {Head} from "next/document";const Index = () => {    const products = useSelector((state) => state.productSlice.productsAll);    const [filteredProducts, setFilteredProducts] = useState(products);    let router = useRouter();    const handleSearch = (price, category) => {        let filteredData = [...products];        const query = {}        if (Number(price)) {            filteredData = filteredData.filter(product => (                product.amount <= price            ));            query['amount'] = price        }        if (category) {            filteredData = filteredData.filter(product => (                product.category === category            ));            query['category'] = category        }        router.push({                pathname: '/',                query: query            },            undefined, {shallow: true}        )        setFilteredProducts(filteredData);    }    const querySearch = (queryPrice, queryCategory) => {        let filteredData = [...products];        if (Number(queryPrice)) {            filteredData = filteredData.filter(product => (                product.amount <= queryPrice            ));        }        if (queryCategory) {            filteredData = filteredData.filter(product => (                product.category === queryCategory            ));        }        setFilteredProducts(filteredData);    }    return (        <>            <SearchBlock onSearch={handleSearch} querySearch={querySearch}/>            <ProductsList products={filteredProducts}/>        </>    );}export default Index;